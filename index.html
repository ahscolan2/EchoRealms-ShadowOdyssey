<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EchoRealms: Shadow Odyssey</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="gameContainer">
        <!-- Game Canvas -->
        <div id="phaser-game"></div>
        
        <!-- Loading Screen -->
        <div id="loadingScreen" class="screen">
            <h1>🌌 EchoRealms: Shadow Odyssey</h1>
            <div class="loading-spinner"></div>
            <p>Loading magical realms...</p>
        </div>
        
        <!-- Start Screen -->
        <div id="startScreen" class="screen hidden">
            <h1>🌌 EchoRealms: Shadow Odyssey</h1>
            <h2>✨ Master the Shadow Abilities ✨</h2>
            
            <div class="feature-grid">
                <div class="feature-card">
                    <h3>🚀 Epic Movement</h3>
                    <div class="feature-list">
                        Triple Jump • Echo Dash<br>
                        Time Slow • Ground Slam<br>
                        Wall Slide • Combo System
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>🌍 Four Biomes</h3>
                    <div class="feature-list">
                        Shadow Realm • Forest Kingdom<br>
                        Crystal Caves • Boss Arena<br>
                        Progressive Difficulty
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>🎮 Smart Combat</h3>
                    <div class="feature-list">
                        Adaptive AI • Dynamic Enemies<br>
                        Strategic Abilities • Boss Battles<br>
                        Skill-Based Challenge
                    </div>
                </div>
                
                <div class="feature-card">
                    <h3>🎆 Visual Effects</h3>
                    <div class="feature-list">
                        Particle Systems • Screen Effects<br>
                        Smooth Animations • Audio Feedback<br>
                        Professional Polish
                    </div>
                </div>
            </div>
            
            <button id="startBtn" onclick="startGame()">🎮 Begin Adventure</button>
            <button id="instructionsBtn" onclick="showInstructions()">📚 How to Play</button>
        </div>
        
        <!-- Instructions Screen -->
        <div id="instructionsScreen" class="screen hidden">
            <h1>🎮 How to Play</h1>
            
            <div class="controls-section">
                <h2>🕹️ Controls</h2>
                <div class="controls-grid">
                    <div class="control-item">
                        <strong>WASD / Arrow Keys</strong><br>
                        Move and Jump
                    </div>
                    <div class="control-item">
                        <strong>X Key</strong><br>
                        Echo Dash (invulnerable)
                    </div>
                    <div class="control-item">
                        <strong>C Key</strong><br>
                        Time Slow (bullet-time)
                    </div>
                    <div class="control-item">
                        <strong>Z Key</strong><br>
                        Ground Slam (area damage)
                    </div>
                </div>
            </div>
            
            <div class="objective-section">
                <h2>🎯 Objective</h2>
                <p>Collect artifacts and orbs while mastering your shadow abilities across four unique biomes!</p>
                <ul>
                    <li>🔮 Collect artifacts to progress to next biome</li>
                    <li>💎 Gather orbs and crystals for points</li>
                    <li>⚔️ Defeat enemies with strategic ability use</li>
                    <li>🏆 Master all biomes to achieve ultimate victory</li>
                </ul>
            </div>
            
            <button onclick="backToMenu()">⬅️ Back to Menu</button>
        </div>
        
        <!-- Game Over Screen -->
        <div id="gameOverScreen" class="screen hidden">
            <h1>💀 Shadows Consumed You</h1>
            <p class="biome-indicator">Your journey ends here... for now.</p>
            <div class="score-display" id="finalScore">Final Score: 0</div>
            <p>Every defeat teaches you more about the shadows.</p>
            <p>Rise again, stronger than before!</p>
            <button onclick="restartGame()">⚔️ Try Again</button>
            <button onclick="returnToMenu()">🏠 Main Menu</button>
        </div>
        
        <!-- Victory Screen -->
        <div id="victoryScreen" class="screen hidden">
            <h1>🎉 Master of Shadows!</h1>
            <h2>✨ All Realms Conquered ✨</h2>
            <div class="score-display" id="victoryScore">Final Score: 0</div>
            <p>You have mastered all shadow abilities and conquered every realm!</p>
            <p>Your legend echoes through the EchoRealms forever.</p>
            
            <div class="achievement-card">
                <h3>🏆 Achievements Unlocked</h3>
                <div class="achievement-list">
                    ✅ Shadow Realm Explorer<br>
                    ✅ Forest Guardian Defeated<br>
                    ✅ Crystal Cave Master<br>
                    ✅ Boss Arena Champion
                </div>
            </div>
            
            <button onclick="restartGame()">🚀 Play Again</button>
            <button onclick="returnToMenu()">🏠 Main Menu</button>
        </div>
        
        <!-- Pause Screen -->
        <div id="pauseScreen" class="screen hidden">
            <h1>⏸️ Game Paused</h1>
            <p>Take a breath, shadow master.</p>
            <button onclick="resumeGame()">▶️ Resume</button>
            <button onclick="restartGame()">🔄 Restart Level</button>
            <button onclick="returnToMenu()">🏠 Main Menu</button>
        </div>
        
        <!-- Level Transition -->
        <div id="transitionScreen" class="screen hidden">
            <h1>🌟 Biome Complete!</h1>
            <p class="biome-indicator" id="nextBiomeName">Entering Next Realm...</p>
            <div class="loading-spinner"></div>
            <p>Prepare for new challenges ahead!</p>
        </div>
        
        <!-- Error Screen -->
        <div id="errorScreen" class="screen hidden">
            <h1>⚠️ Oops! Something went wrong</h1>
            <p id="errorMessage">The shadows are interfering with the game...</p>
            <p>Don't worry, we can fix this!</p>
            <button onclick="location.reload()">🔄 Reload Game</button>
            <button onclick="returnToMenu()">🏠 Main Menu</button>
        </div>
    </div>

    <!-- Game Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.70.0/dist/phaser.min.js"></script>
    <script src="game.js"></script>
    <script src="gameManager.js"></script>
</body>
</html>